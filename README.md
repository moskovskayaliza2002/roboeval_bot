# Telegram Video Rating Bot
Бот для оценки видеозаписей по заданным критериям с экспортом результатов в Excel.
Сам бот находится тут: @roboeval_bot
## Структура проекта
```bash
mentor_bot
├── src/
│ ├── tg_bot.py # Основной скрипт бота
│ └── read_db.py # Скрипт для экспорта данных
├── data/
│ ├── ratings.db # База данных (создается автоматически)
│ └── experiment_results.xlsx # Результаты (создается скриптом read_db.py)
├── token/
│ └── config.txt # Файл с токеном бота
├── logs/ # Директория для логов (создается автоматически )
├── requirements.txt # Зависимости
└── README.md
```

## Установка
1. Клонируйте репозиторий
```bash
git clone https://github.com/moskovskayaliza2002/roboeval_bot.git
```
2. Установите зависимости (нужен python >= 3.8):
```bash
pip install -r requirements.txt
```
3. Вставьте в дирректорию *token* файл *config.txt* с токеном вашего бота (получить можно от @BotFather)

Остальные директории и файлы создадутся автоматически при запуске
## Запуск скриптов
### Запуск бота (tg_bot.py)
Из дирректории проекта:
```bash
python3 src/tg_bot.py
```
### Экспорт данных (read_db.py)
```bash
python3 src/read_db.py
```
Результат:
Файл data/experiment_results.xlsx с 2 листами:
- participants - строки по пользователям, дате прохождения и статусом (закончено/нет)
- answers - ответы каждого пользователя по каждому видео

## Устранение неполадок
Если бот не запускается:
1. Проверьте наличие токена в token/config.txt

Если не создается Excel-файл:
1. Остановите бота
2. Закройте файл results.xlsx перед запуском скрипта
3. Проверьте права на запись в директорию data/

## Автоматизация
Для работы в фоновом режиме на Linux:
```
nohup python3 src/tg_bot.py > bot.log 2>&1 &
```
